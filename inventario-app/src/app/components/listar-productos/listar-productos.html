<div class="table-container">
    <table>
        <thead>
            <tr>
                <th>CÃ³digo</th>
                <th>Nombre</th>
                <th>CategorÃ­a</th>
                <th>Stock</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let p of productos()">
                <!-- Si este producto estÃ¡ en ediciÃ³n, muestro inputs -->
                <ng-container *ngIf="editandoId === p.id; else modoVer">
                    <td>{{p.id}}</td>
                    <td><input [(ngModel)]="modeloEdicion.nombre" /></td>
                    <td><input [(ngModel)]="modeloEdicion.categoria" /></td>
                    <td><input type="number" [(ngModel)]="modeloEdicion.stock" /></td>
                    <td class="acciones">
                        <button (click)="guardarEdicion()">ðŸ’¾ Guardar</button>
                        <button (click)="cancelarEdicion()">âœ– Cancelar</button>
                    </td>
                </ng-container>
                <!-- Modo sÃ³lo lectura -->
                <ng-template #modoVer>
                    <td>{{p.id}}</td>
                    <td>{{p.nombre}}</td>
                    <td>{{p.categoria}}</td>
                    <td>{{p.stock}}</td>
                    <td class="acciones">
                        <button (click)="empezarEdicion(p)">âœŽ Editar</button>
                        <button (click)="eliminar(p)" class="danger">ðŸ—‘ Eliminar</button>
                    </td>
                </ng-template>
            </tr>
        </tbody>
    </table>
</div>